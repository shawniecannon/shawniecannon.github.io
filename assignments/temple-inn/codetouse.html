<section class="townsection">
        <a href="fishhaven.html">
            <h3 class="townh3">Fish Haven</h3>
        </a>
        <div class="towndiv" id="fishHavenSec"></div>

        <figure class=townimg>
            <a href="fishhaven.html"><img src="images/wgimages/wg-snow-small.jpg" alt="beautiful snow"></a>
            <figcaption class="towncaption">Come ice fishing.</figcaption>
        </figure>
    </section>
    <section class="townsection">
            <a href="preston.html">
                <h3 class="townh3">Preston</h3>
            </a>
            <div class="towndiv" id="prestonSec"></div>
            <figure class=townimg>
                <a href="preston.html"><img src="images/wgimages/wg-lightening-small.jpg"
                        alt="weather with lightning"></a>
                <figcaption class="towncaption">Lightening hits Preston.</figcaption>
            </figure>

        </section>
        <section class="townsection">
            <a href="sodasprings.html">
                <h3 class="townh3">Soda Springs</h3>
            </a>
            <div class="towndiv" id="sodaSpringsSec"></div>

            <figure class=townimg>
                <a href="sodasprings.html"><img src="images/wgimages/wg-rain-small.jpg" alt="rain scene "></a>
                <figcaption class="towncaption">Soda Springs has water.</figcaption>
            </figure>
        </section>

        <aside id="map">
                <img src="images/map.png" alt="map of salt lake city">
                <p>4922 Ontario Dr., Salt Lake City, UT 84104</p>
            </aside>

            <p>Today's date is <span id="currentdate"></span>.</p>

            /*bottom of page*/

            <script>
                    var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
                    var request = new XMLHttpRequest();
                    var info; // globally defined
                    request.open('GET', requestURL);
                    request.responseType = 'json';
                    request.send();
                    request.onload = function () {
                        var townsection = request.response;
                        showData(townsection);
                    }
            
                    function showSection(town, sectionId) {
                        var section = document.getElementById(sectionId);
                        var myArticle = document.createElement('article');
                        var myPara1 = document.createElement('p');
                        var myPara2 = document.createElement('p');
                        var myPara3 = document.createElement('p');
                        var myPara4 = document.createElement('p');
                        for (var i = 0; i < info.length; i++) {
                            if (info[i].name == town) {
                                myPara1.textContent = 'Motto: ' + info[i].motto;
                                myPara2.textContent = 'Year Founded: ' + info[i].yearFounded;
                                myPara3.textContent = 'Population: ' + info[i].currentPopulation;
                                myPara4.textContent = 'Rainfall: ' + info[i].averageRainfall;
                            }
                        }
                        myArticle.appendChild(myPara1);
                        myArticle.appendChild(myPara2);
                        myArticle.appendChild(myPara3);
                        myArticle.appendChild(myPara4);
                        section.appendChild(myArticle);
                    }
            
                    function showData(jsonObj) {
                        info = jsonObj['towns'];
            
                        showSection("Soda Springs", "sodaSpringsSec");
                        showSection("Preston", "prestonSec");
                        showSection("Fish Haven", "fishHavenSec");
                    }
                </script>

<script src="js/currentdate.js"></script>